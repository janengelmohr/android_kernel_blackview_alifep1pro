#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#endif

#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,68237},
        {-15,53650},
        {-10,42506},
        { -5,33892},
        {  0,27219},
        {  5,22021},
        { 10,17926},
        { 15,14674},
        { 20,12081},
        { 25,10000},
        { 30,8315},
        { 35,6948},
        { 40,5834},
        { 45,4917},
        { 50,4161},
        { 55,3535},
        { 60,3014}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
{0,4307},
{1,4304},
{2,4269},
{3,4223},
{4,4188},
{6,4166},
{7,4146},
{8,4128},
{9,4111},
{11,4096},
{12,4086},
{13,4071},
{14,4040},
{16,4008},
{17,3982},
{19,3962},
{21,3948},
{23,3936},
{25,3926},
{27,3915},
{28,3904},
{30,3892},
{32,3881},
{34,3870},
{36,3861},
{38,3852},
{40,3843},
{41,3835},
{43,3826},
{45,3819},
{47,3811},
{49,3803},
{51,3794},
{52,3786},
{54,3778},
{56,3771},
{58,3764},
{60,3759},
{62,3754},
{64,3750},
{65,3746},
{67,3741},
{69,3736},
{71,3732},
{73,3727},
{75,3724},
{77,3721},
{78,3718},
{80,3715},
{82,3711},
{84,3703},
{86,3691},
{88,3676},
{89,3667},
{91,3657},
{93,3648},
{95,3640},
{97,3632},
{97,3624},
{98,3616},
{98,3608},
{98,3600},
{98,3592},
{99,3584},
{99,3577},
{99,3570},
{99,3564},
{99,3559},
{99,3554},
{99,3549},
{100,3400}
};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
{0,4283},
{1,4280},
{2,4238},
{3,4210},
{4,4188},
{5,4169},
{7,4151},
{8,4134},
{9,4117},
{10,4101},
{11,4089},
{13,4079},
{15,4060},
{17,4032},
{19,4005},
{20,3984},
{22,3968},
{24,3954},
{26,3942},
{28,3929},
{29,3917},
{31,3904},
{33,3892},
{35,3881},
{37,3871},
{38,3862},
{40,3853},
{42,3845},
{44,3837},
{45,3830},
{47,3823},
{49,3817},
{51,3811},
{53,3804},
{54,3798},
{56,3793},
{58,3787},
{60,3781},
{62,3777},
{63,3773},
{65,3769},
{67,3764},
{69,3760},
{71,3754},
{72,3748},
{74,3741},
{76,3733},
{78,3724},
{79,3715},
{81,3709},
{83,3705},
{85,3702},
{87,3697},
{88,3687},
{90,3656},
{92,3590},
{94,3544},
{96,3511},
{96,3487},
{96,3467},
{97,3453},
{97,3440},
{98,3431},
{98,3424},
{99,3417},
{99,3412},
{99,3408},
{100,3400},
{100,3400},
{100,3400},
{100,3400}
};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
{0,4346},
{1,4343},
{2,4321},
{3,4300},
{4,4279},
{5,4260},
{6,4242},
{8,4224},
{9,4205},
{10,4187},
{11,4170},
{12,4152},
{13,4135},
{14,4118},
{16,4101},
{18,4085},
{20,4074},
{21,4060},
{23,4039},
{25,4017},
{27,4002},
{28,3989},
{30,3978},
{32,3966},
{34,3949},
{35,3931},
{37,3914},
{39,3899},
{40,3886},
{42,3874},
{44,3864},
{46,3855},
{47,3847},
{49,3839},
{51,3832},
{53,3825},
{54,3819},
{56,3813},
{58,3807},
{59,3801},
{61,3796},
{63,3791},
{65,3787},
{66,3782},
{68,3777},
{70,3772},
{72,3768},
{73,3762},
{75,3756},
{77,3751},
{79,3745},
{80,3738},
{82,3727},
{84,3718},
{85,3705},
{87,3696},
{89,3694},
{91,3692},
{92,3690},
{94,3682},
{96,3633},
{98,3549},
{99,3485},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400}
};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
{0,4343},
{1,4340},
{2,4320},
{3,4301},
{4,4283},
{5,4264},
{6,4246},
{8,4228},
{9,4210},
{10,4192},
{11,4175},
{12,4157},
{13,4140},
{15,4123},
{17,4106},
{19,4090},
{20,4074},
{22,4059},
{24,4045},
{25,4030},
{27,4014},
{29,4000},
{31,3986},
{32,3972},
{34,3958},
{36,3943},
{38,3927},
{39,3911},
{41,3896},
{43,3884},
{44,3873},
{46,3863},
{48,3853},
{50,3845},
{51,3837},
{53,3829},
{55,3822},
{57,3816},
{58,3809},
{60,3803},
{62,3797},
{63,3792},
{65,3786},
{67,3780},
{69,3774},
{70,3765},
{72,3756},
{74,3750},
{76,3743},
{77,3736},
{79,3729},
{81,3723},
{82,3714},
{84,3704},
{86,3694},
{88,3681},
{89,3679},
{91,3677},
{93,3675},
{95,3670},
{96,3640},
{98,3571},
{99,3468},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400}
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 }
};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
{429,4307},
{429,4304},
{446,4269},
{476,4223},
{488,4188},
{491,4166},
{496,4146},
{498,4128},
{500,4111},
{500,4096},
{503,4086},
{503,4071},
{505,4040},
{508,4008},
{510,3982},
{511,3962},
{514,3948},
{515,3936},
{517,3926},
{519,3915},
{521,3904},
{523,3892},
{526,3881},
{526,3870},
{531,3861},
{533,3852},
{536,3843},
{540,3835},
{542,3826},
{547,3819},
{551,3811},
{555,3803},
{560,3794},
{562,3786},
{569,3778},
{571,3771},
{575,3764},
{581,3759},
{585,3754},
{587,3750},
{592,3746},
{593,3741},
{596,3736},
{596,3732},
{602,3727},
{605,3724},
{613,3721},
{621,3718},
{630,3715},
{637,3711},
{646,3703},
{658,3691},
{665,3676},
{669,3667},
{669,3657},
{679,3648},
{691,3640},
{696,3632},
{712,3624},
{719,3616},
{720,3608},
{727,3600},
{731,3592},
{736,3584},
{747,3577},
{747,3570},
{756,3564},
{748,3559},
{761,3554},
{752,3549},
{758,3400}
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
{311,4283},
{310,4280},
{328,4238},
{333,4210},
{334,4188},
{335,4169},
{336,4151},
{338,4134},
{338,4117},
{339,4101},
{341,4089},
{341,4079},
{341,4060},
{342,4032},
{344,4005},
{346,3984},
{347,3968},
{348,3954},
{349,3942},
{349,3929},
{352,3917},
{353,3904},
{354,3892},
{356,3881},
{358,3871},
{361,3862},
{363,3853},
{365,3845},
{367,3837},
{370,3830},
{373,3823},
{375,3817},
{378,3811},
{381,3804},
{385,3798},
{390,3793},
{393,3787},
{394,3781},
{396,3777},
{402,3773},
{405,3769},
{406,3764},
{409,3760},
{413,3754},
{414,3748},
{416,3741},
{417,3733},
{423,3724},
{421,3715},
{424,3709},
{429,3705},
{430,3702},
{434,3697},
{446,3687},
{454,3656},
{473,3590},
{479,3544},
{484,3511},
{486,3487},
{486,3467},
{487,3453},
{487,3440},
{488,3431},
{487,3424},
{486,3417},
{485,3412},
{485,3408},
{484,3400},
{485,3400},
{484,3400},
{482,3400}
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
{220,4346},
{220,4343},
{220,4321},
{219,4300},
{217,4279},
{216,4260},
{217,4242},
{218,4224},
{217,4205},
{217,4187},
{217,4170},
{216,4152},
{217,4135},
{218,4118},
{216,4101},
{217,4085},
{217,4074},
{217,4060},
{223,4039},
{221,4017},
{221,4002},
{219,3989},
{220,3978},
{221,3966},
{221,3949},
{218,3931},
{220,3914},
{220,3899},
{221,3886},
{220,3874},
{220,3864},
{221,3855},
{222,3847},
{221,3839},
{224,3832},
{224,3825},
{222,3819},
{223,3813},
{222,3807},
{220,3801},
{219,3796},
{219,3791},
{221,3787},
{220,3782},
{220,3777},
{221,3772},
{221,3768},
{220,3762},
{221,3756},
{222,3751},
{223,3745},
{222,3738},
{224,3727},
{223,3718},
{223,3705},
{223,3696},
{223,3694},
{222,3692},
{223,3690},
{222,3682},
{224,3633},
{228,3549},
{234,3485},
{241,3400},
{241,3400},
{245,3400},
{244,3400},
{253,3400},
{253,3400},
{253,3400},
{250,3400}
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
{236,4343},
{235,4340},
{234,4320},
{234,4301},
{233,4283},
{233,4264},
{231,4246},
{231,4228},
{231,4210},
{231,4192},
{232,4175},
{233,4157},
{232,4140},
{236,4123},
{235,4106},
{236,4090},
{237,4074},
{235,4059},
{236,4045},
{236,4030},
{235,4014},
{236,4000},
{238,3986},
{237,3972},
{236,3958},
{238,3943},
{237,3927},
{237,3911},
{237,3896},
{235,3884},
{236,3873},
{236,3863},
{236,3853},
{236,3845},
{237,3837},
{236,3829},
{237,3822},
{238,3816},
{238,3809},
{237,3803},
{237,3797},
{238,3792},
{238,3786},
{237,3780},
{239,3774},
{239,3765},
{238,3756},
{241,3750},
{239,3743},
{240,3736},
{240,3729},
{241,3723},
{240,3714},
{241,3704},
{240,3694},
{241,3681},
{242,3679},
{241,3677},
{242,3675},
{242,3670},
{243,3640},
{245,3571},
{247,3468},
{251,3400},
{252,3400},
{251,3400},
{252,3400},
{250,3400},
{252,3400},
{251,3400},
{251,3400}
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 },
{0  , 0 }
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

